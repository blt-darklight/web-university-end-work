# 数字媒体项目实践1

## 项目信息

**题目**：重走万里长征路

**姓名**：

**学号**：

**班级**：

---

## 目录
一、设计说明	2
1.1 设计背景	2
1.2 受众群体	2
1.3 需求分析	3
1.3.1 功能需求	3
1.3.2 非功能需求	3
1.4 设计理念	3
1.5 设计方向	3
二、交互逻辑	3
2.1 核心流程梳理	3
2.2 交互规则说明	4
2.2.1 页面跳转规则	4
2.2.2 控件交互规则	4
2.2.3 异常交互处理	4
2.3 交互原型说明	4
三、UI效果图	4
3.1 整体视觉风格	4
3.2 核心页面效果图	4
3.3 关键控件/组件效果图	5
3.4 适配效果图（可选）	5
四、设计总结与反思	6
4.1 设计成果总结	6
4.2 设计不足与改进方向	6
4.3 心得体会	6
五、附录	6
5.1 参考资料	6
5.2 附件清单	6
5.3 AI辅助使用说明及占比	6
5.4 其他说明	7

---

## 一、设计说明

### 1.1 设计背景

为纪念伟大的红军长征，弘扬不屈不挠、坚韧不拔的长征精神，面向新时代中小学生，开发一个兼具教育性、互动性与趣味性的专题网站。旨在通过现代数字化手段，让青少年沉浸式了解这段波澜壮阔的历史，传承红色基因。

### 1.2 受众群体

核心用户为中国中小学生（年龄范围约7-18岁），可进一步细分为：

- **小学中高年级（3-6年级）**：对故事、画面、互动更为敏感。
- **初高中生（7-12年级）**：具备一定自主学习能力，追求更深度的历史知识和精神内核理解。

### 1.3 需求分析

#### 1.3.1 功能需求

| 功能模块 | 具体需求 |
|---------|---------|
| **首页展示** | 视差滚动背景、6张轮播banner、长征数据展示、侧边导航 |
| **地图探索** | SVG中国地图、8个长征节点标记、路线可视化连线 |
| **双模式学习** | 线性引导（依次解锁）、自由探索（全景浏览） |
| **事件详情** | 8个历史节点详细页面、关键事件说明、沉浸式叙事 |
| **进度管理** | localStorage本地存储、解锁状态同步、进度重置功能 |
| **AI助手** | 侧边栏问答功能、历史知识库、实时对话 |
| **页面跳转** | 加载转场动画、进度条、动态提示文字 |

#### 1.3.2 非功能需求

| 需求类型 | 具体说明 |
|---------|---------|
| **性能** | 首屏加载<3s、动画帧率60fps、平滑转场 |
| **美观性** | 符合青少年审美、扁平化设计、红色主题传承 |
| **兼容性** | 支持现代浏览器、响应式移动端适配 |
| **可用性** | 清晰的视觉反馈、直观的交互流程 |

### 1.4 设计理念

1. **沉浸式体验**：通过视差滚动、加载动画、页面转场营造时空穿梭感
2. **红色精神传承**：运用中国红色主题体现长征精神，增强情感代入
3. **渐进式学习**：从首页概览→地图探索→事件详情的多层次递进体验
4. **交互驱动**：通过点击、滚动等交互方式提升用户参与度
5. **历史准确性**：基于真实长征历史数据，包含8个关键节点

### 1.5 设计方向

- **视觉风格**：红色主题 + 扁平化设计，展现历史沧桑感与现代简洁性的结合
- **交互路径**：采用"最少操作"原则，3-5次点击即可到达任何内容
- **技术方向**：前端纯JavaScript实现，不依赖后端，localStorage本地存储进度
- **适配策略**：移动端优先，平板和桌面端响应式适配

---

## 二、交互逻辑

### 2.1 核心流程梳理

```
用户打开网站
    ↓
首页加载（视差滚动背景、6张Banner轮播）
    ↓
点击"开始重走长征路" ← 滚动到"开始探索"区域
    ↓
选择学习模式（线性引导 / 自由探索）
    ↓
加载转场（进度条+动态提示）
    ↓
地图页面加载
├─→ 线性模式：仅第1个节点解锁，其他节点锁定
└─→ 自由模式：显示全部8个节点
    ↓
点击节点标记 → 跳转至事件详情页
    ↓
完成学习 → 返回地图
    ├─→ 线性模式：自动解锁下一个节点
    └─→ 自由模式：保持状态
    ↓
重复探索 或 返回首页
    ↓
所有节点探索完成 → 显示总结与意义（第8个节点）
```

**8个长征关键节点**
1. 战略转移开始（1934年10月·瑞金）
2. 湘江战役与转折前夜（1934年11月·湘江）
3. 伟大转折——遵义会议（1935年1月·遵义）
4. 灵活机动的战略战术（1935年1月-6月）
5. 红一、红四方面军会师与北上南下之争（1935年6月-9月）
6. 红一方面军胜利到达陕北（1935年10月）
7. 红二、红四方面军北上与三大主力会师（1936年7月-10月）
8. 长征的总结与意义（1936年10月·历史意义）

### 2.2 交互规则说明

#### 2.2.1 页面跳转规则

| 跳转路径 | 触发条件 | 动画效果 | 状态保存 |
|---------|---------|---------|---------|
| 首页 → 地图 | 点击"线性引导"或"自由探索" | 加载转场（进度条） | 记录学习模式到localStorage |
| 地图 → 事件 | 点击节点标记 | 平滑转换 | 记录当前节点ID |
| 事件 → 地图 | 点击"返回地图" | 返回转换 | 线性模式下自动解锁下一节点 |
| 任意页 → 首页 | 点击Logo | 直接跳转 | 保持已有进度 |

#### 2.2.2 控件交互规则

**轮播Banner（Swiper）**
- 自动轮播间隔5秒
- 支持前后箭头手动切换
- 鼠标悬停时暂停
- 显示6张历史照片和节点介绍

**地图节点标记**
- 未解锁：灰色半透明显示，禁止点击
- 已解锁：高亮显示，鼠标悬停放大
- 点击效果：跳转至对应事件详情页

**侧边导航**
- 固定位置，平滑滚动指示
- 包含：首页、前情提要、开始探索、长征数据、特色功能
- 点击即跳转到对应页面区域

**AI助手按钮**
- 悬浮窗口，右下角固定
- 点击展开对话框
- 支持输入问题、实时回答
- 可关闭/折叠

**加载转场**
- 进度条动画（0-100%）
- 4条随机加载提示：
  - "准备进入长征之旅..."
  - "加载历史地图数据..."
  - "初始化长征路线..."
  - "准备好了，即将启程！"
- 100%后延迟300ms跳转

#### 2.2.3 异常交互处理

由于项目无服务器，所有数据与进度均存储于本地。

**localStorage不可用**
- 场景：浏览器LocalStorage被禁用
- 处理：显示提示弹窗
- 交互：用户确认后继续，进度存储在内存（刷新后丢失）

**资源加载失败**
- 场景：图片、SVG等资源加载出错
- 处理：显示占位图+重试按钮
- 交互：占位图可点击重新加载

**浏览器兼容性**
- 场景：检测到低版本浏览器
- 处理：显示温和提示条
- 交互：5秒后自动淡出，可手动关闭

### 2.3 交互原型说明

**用户操作示例（线性模式）**

1. 进入首页 → 观看Banner → 点击"开始重走长征路"
2. 页面滚动至"开始探索" → 选择"线性引导"
3. 显示加载转场（进度条+提示） → 跳转至地图
4. 地图显示：第1个节点可点击，其他7个节点锁定
5. 点击第1个节点 → 进入"战略转移开始"详情页
6. 阅读内容 → 点击"完成学习并返回地图"
7. 返回地图 → 第2个节点已自动解锁
8. 重复第5-7步，依次解锁后续节点
9. 完成第8个节点后，全部内容已探索

### 2.3 交互原型说明

**用户操作流程示例：**

1. 用户进入首页
   - 自动播放背景视差动画
   - 展示轮播Banner和"开始"按钮

2. 点击"开始"按钮
   - Banner轻微放大动画（feedback）
   - 页面平滑滚动至"立即探索"区域
   - 显示两个模式选择按钮

3. 选择"线性引导"模式
   - 展示加载转场页（进度条+提示文字）
   - 预加载地图HTML
   - 跳转至地图页面

4. 地图页面展示
   - 动态绘制长征路线（polyline）
   - 展示8个节点标记，其中仅第1个解锁
   - 其他节点显示锁定状态

5. 点击第1个节点
   - 节点高亮/放大
   - 跳转至事件详情页

6. 完成学习
   - 点击"完成学习"按钮
   - 触发localStorage更新（第2个节点解锁）
   - 返回地图页
   - 第2个节点现已可交互

---

## 三、UI效果图

### 3.1 整体视觉风格

**色彩方案**
- 主色：中国红 #FF6B6B / #B22222（代表长征精神）
- 辅助色：金色 #FFB300、蓝色 #1565C0（神秘感）
- 背景色：深灰 #0a0a14（沉浸感）、浅灰 #f5f5f5（内容区）
- 强调色：绿色 #2e7d32（探索感）

**字体系统**
- 标题字体：思源宋体（Noto Serif SC）700/900 weight
- 正文字体：思源宋体（Noto Serif SC）400 weight
- UI文字：Segoe UI / Microsoft YaHei

**设计元素**
- 红色五星标志（加载动画旋转）
- 长征路线连线（SVG polyline，红色渐变）
- 节点标记（圆形+图标，根据状态变色）
- 视差滚动背景（山峦、云彩动画）

### 3.2 核心页面效果图

### 3.2 核心页面效果图

按页面类型分类展示，附清晰标注，每张效果图需注明页面名称、尺寸、适配端等。

#### **页面1：首页（index.html）**

| 属性 | 说明 |
|-----|------|
| **页面名称** | 首页 - 长征精神展示与模式选择 |
| **桌面端尺寸** | 1920×1080 及以上 |
| **平板端尺寸** | 768×1024 (iPad) |
| **手机端尺寸** | 375×812 (iPhone) / 360×640 (Android) |
| **主要组件** | 侧边导航、轮播Banner、标题区、数据展示、模式选择、AI助手 |
| **设计特点** | 视差滚动背景、6张历史照片轮播、长征数据展示、红色主题 |

**桌面端效果图（1920×1080）：**
```
┌──────────────────────────────────────────────────┐
│ 🏔 重走长征路    [侧边导航]                       │ ← 导航栏(固定左侧)
├──────────────────────────────────────────────────┤
│          ◇ 纪念长征胜利 ◇                       │
│        ▸ 重走长征路 ▸                             │ ← 标题区
│        ═════════ ★ ═════════                    │
│      体验长征精神，传承红色文化                 │
│       [开始重走长征路 →]                        │
├──────────────────────────────────────────────────┤
│ ◄ [轮播Banner：6张历史照片] ►                  │ ← Swiper轮播
│   《瑞金》《遵义》《会宁》《通道》《金沙》《赤水》
│   指示点：● ○ ○ ○ ○ ○                       │
│                                                  │
│ 📊 长征数据：13个月 | 8个节点 | 25000km | 3支队伍│
│ 🔍 [○ 线性引导]  [◆ 自由探索]                  │
│                         💬 AI助手 (右下) │
└──────────────────────────────────────────────────┘
```

**响应式适配说明：**
- 桌面 (>1200px)：侧导+全宽、字体16px、数据横排
- 平板 (768-1200px)：侧导隐藏、字体缩小20%、数据2行显示
- 手机 (≤768px)：单栏、字体缩小40%、数据4行竖排

---

#### **页面2：地图页（map.html）**

| 属性 | 说明 |
|-----|------|
| **页面名称** | 地图探索 - 长征路线与节点交互 |
| **桌面端尺寸** | 1920×1080 及以上 |
| **平板端尺寸** | 768×1024 |
| **手机端尺寸** | 375×812 / 360×640 |
| **主要组件** | 导航栏、SVG地图、节点标记、侧边栏、底部操作栏、AI助手 |
| **设计特点** | 中国地图SVG、8节点标记、红色路线、脉冲动画、节点解锁机制 |

**桌面端效果图（1920×1080）：**
```
┌────────────────────────────────────┬──────────────┐
│ 长征地图·节点探索  | 线性引导      │              │ ← 顶部导航(红色主题)
├────────────────────────────────────┼──────────────┤
│                                    │ 节点详情     │
│    [中国地图SVG]                  │ ┌──────────┐│
│                                    │ │战略转移  ││
│    ★ 1 ○ 2 ○ 3              │ │1934年10月││
│    × 4 × 5 × 6                │ │瑞金      ││
│    × 7 × 8 (脉冲)              │ └──────────┘│
│                                    │ [查看][🔒] │
│  [长征路线-红色渐变]              │ [切换模式]  │
│                                    │             │
│  图例：★=现 ○=解 ×=锁           │ 💬 AI助手  │
└────────────────────────────────────┴──────────────┘
[重置进度] [返回首页]  ← 底部操作(深色)
```

**响应式适配说明：**
- 桌面 (>1100px)：左右布局(地图60%+侧栏40%)、高度协调
- 平板 (768-1100px)：上下堆叠、地图600px、侧栏300px
- 手机 (≤768px)：全屏地图300px、侧栏200px、字体缩小
- 超小屏 (≤480px)：地图250px、卡片式列表、按钮优化

---

#### **页面3：事件详情页（event/start.html）**

| 属性 | 说明 |
|-----|------|
| **页面名称** | 事件详情 - 战略转移开始(第1个节点示例) |
| **桌面端尺寸** | 1920×1080 及以上 |
| **平板端尺寸** | 768×1024 |
| **手机端尺寸** | 375×812 / 360×640 |
| **主要组件** | 标题栏、沉浸式背景、事件描述、关键事件、多媒体、操作按钮 |
| **设计特点** | 深色背景战争气氛、动态视差、历史准确性、图文并茂 |

**桌面端效果图（1920×1080）：**
```
┌─────────────────────────────────────────────────┐
│ 1. 战略转移开始  |  1934年10月·瑞金            │ ← 标题栏(深色)
├─────────────────────────────────────────────────┤
│                                                 │
│ ☁️  深色背景(战争紧迫感+视差效果)              │
│                                                 │
│ 📖 事件标题 ═════════════════════════════     │
│ 中共中央、中革军委率中央红军主力8.6万余人，    │
│ 从江西瑞金等地出发，开始战略转移。这一时刻    │
│ 标志着中国共产党历史上最伟大的转折的开始...   │
│                                                 │
│ 🎯 关键事件                                    │
│ • 瑞金出发      • 突破四道封锁线               │
│ • 中央红军主力转移                             │
│                                                 │
│ 📸 历史照片(可选)  [照片1] [照片2] [照片3]   │
│                                                 │
│ [✓ 完成学习并返回] [↩ 直接返回地图]          │
│                                                 │
│                   💬 AI助手浮窗               │
└─────────────────────────────────────────────────┘
```

**响应式适配说明：**
- 桌面 (>1200px)：单栏900px居中、字体16px、宽松间距
- 平tablet (768-1200px)：宽度90%、字体14px、间距调整
- 手机 (≤768px)：全宽padding15px、字体12px、图片堆叠
- 超小屏 (≤480px)：padding10px、字体11px、按钮全宽堆叠

---

#### **页面4：加载转场（loading-transition）**

| 属性 | 说明 |
|-----|------|
| **页面名称** | 加载转场 - 页面切换动画 |
| **显示场景** | 首页→地图页面跳转时触发 |
| **设计特点** | 五星旋转加载、渐变进度条、动态提示文字 |
| **显示时长** | 1-3秒(进度模拟) |

**加载转场效果图：**
```
┌────────────────────────────────┐
│                                │
│      ★ 正在加载长征            │
│    (五星旋转+光晕)             │
│                                │
│  ████████░░░░░░░ 65%         │
│  (红色→金色渐变进度条)          │
│                                │
│   加载历史地图数据...          │
│   (4条提示文字随机显示)        │
│                                │
└────────────────────────────────┘
```

---

#### **多端尺寸对照表**

| 终端类型 | 屏幕宽度 | 建议分辨率 | 布局特点 | 字体缩放 |
|---------|---------|---------|--------|--------|
| **桌面** | >1200px | 1920×1080 | 三栏/两栏充分利用 | 100% (16px) |
| **平板** | 768-1200px | 768×1024 | 两栏或上下堆叠 | 80-90% (12-14px) |
| **大手机** | 600-768px | 414×896 | 单栏全宽 | 70-80% (11-12px) |
| **小手机** | ≤600px | 375×667 | 单栏紧凑 | 60-70% (10-11px) |
| **超小屏** | ≤480px | 360×640 | 极致压缩卡片 | 50-60% (9-10px) |

### 3.3 关键控件/组件效果图

本部分展示核心交互控件的设计效果与规范，每个控件均包含多种状态及详细的设计参数说明。

---

#### **1. 节点标记组件（Marker）**

**视觉设计**
```
未解锁状态         悬停状态         已解锁状态
┌──────┐          ┌──────┐          ┌──────┐
│  🔒  │          │ ⊗    │          │  ✓   │
│ node3│    →    │node  │    →    │ node1│
│ 灰色  │          │亮红  │          │  红色  │
└──────┘ 半透明     └──────┘ 放大     └──────┘
         opacity:0.6  scale(1.12)    脉冲动画
```

**设计规范**
| 属性 | 未解锁状态 | 已解锁状态 | 悬停效果 |
|-----|-----------|-----------|---------|
| **尺寸** | 46×46px | 46×46px | scale(1.12) |
| **背景色** | linear-gradient(135deg, rgba(100,100,100,0.6), rgba(80,80,80,0.6)) | linear-gradient(135deg, #ff8c00, #ffb84d, #ffa500) | brightness(1.15) |
| **边框** | 2px solid rgba(255,255,255,0.8) | 2px solid rgba(255,255,255,0.8) | - |
| **阴影** | 0 8px 20px rgba(0,0,0,0.25) | 0 12px 32px rgba(255,140,0,0.35) | 增强阴影 |
| **透明度** | opacity: 0.6 | opacity: 1 | - |
| **图标** | 锁定图标🔒 | 节点序号(1-8) | - |
| **动画** | 无 | pulse脉冲动画(2s循环) | 0.2s缓动放大 |

**标签（Label）样式**
- 位置：节点下方24px偏移
- 背景：linear-gradient(135deg, rgba(255,255,255,0.98), rgba(240,240,240,0.98))
- 文字：13px，font-weight: 500，color: #333
- 阴影：0 8px 24px rgba(0,0,0,0.15)
- 边框：1px solid rgba(200,200,200,0.5)
- 显示逻辑：仅在悬停时显示，0.2s淡入动画

**脉冲动画（已解锁节点）**
```css
@keyframes pulse {
  0%   { box-shadow: 0 0 0 0 rgba(255,165,0,0.5); }
  50%  { box-shadow: 0 0 0 12px rgba(255,165,0,0.2); }
  100% { box-shadow: 0 0 0 24px rgba(255,165,0,0); }
}
```

**响应式适配**
- 桌面(>768px): 46×46px
- 平板(600-768px): 38×38px
- 手机(480-600px): 32×32px
- 超小屏(<480px): 28×28px，字体12px

---

#### **2. 加载转场组件（Loading Transition）**

**视觉设计**
```
┌─────────────────────────────┐
│                             │
│         ★  正在加载          │
│    (五星旋转+光晕)           │
│                             │
│  ████████░░░░░░░ 65%       │
│  (红→橙→金渐变进度条)        │
│                             │
│   加载历史地图数据...       │
│   (4条提示文字随机切换)     │
│                             │
└─────────────────────────────┘
```

**设计规范**
| 组件元素 | 样式参数 | 动画效果 |
|---------|---------|---------|
| **背景** | linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f0f1e 100%) | 无 |
| **五星图标** | font-size: 80px, color: #c8102e | starSpin旋转动画(2s缓动循环) |
| **五星阴影** | drop-shadow(0 0 20px rgba(200,16,46,0.6)) | - |
| **标题文字** | font-size: 2rem, color: white, letter-spacing: 3px | textPulse呼吸动画(2s) |
| **进度条容器** | width: 400px, height: 8px, border-radius: 10px | - |
| **进度条背景** | rgba(255,255,255,0.1) | - |
| **进度条填充** | linear-gradient(90deg, #c8102e, #ff4500, #ffd700) | shimmer光泽动画(1.5s) |
| **进度条阴影** | box-shadow: 0 0 20px rgba(200,16,46,0.8) | - |
| **提示文字** | font-size: 1rem, color: rgba(255,255,255,0.7), italic | 随机切换4条提示 |

**五星旋转动画**
```css
@keyframes starSpin {
  0%   { transform: rotate(0deg) scale(1); }
  50%  { transform: rotate(180deg) scale(1.2); }
  100% { transform: rotate(360deg) scale(1); }
}
```

**进度条光泽动画**
```css
@keyframes shimmer {
  0%   { transform: translateX(-100%); }
  100% { transform: translateX(100%); }
}
```

**动态提示文字（4条随机显示）**
1. "准备进入长征之旅..."
2. "加载历史地图数据..."
3. "初始化长征路线..."
4. "准备好了，即将启程！"

**响应式适配**
- 桌面(>768px): 进度条400px，五星80px，标题2rem
- 平板/手机(≤768px): 进度条80%宽度，五星60px，标题1.5rem
- 超小屏(<480px): 进度条90%宽度，五星50px，标题1.2rem

---

#### **3. 轮播Banner组件（Swiper）**

**视觉设计**
```
◄  [      6张历史照片轮播 + 渐变遮罩      ]  ►
        ● ○ ○ ○ ○ ○  (指示点)
     当前卡片放大(scale:1)，其他卡片缩小(scale:0.92)
```

**设计规范**
| 属性 | 参数值 | 说明 |
|-----|--------|-----|
| **容器最大宽度** | 1100px | 居中显示 |
| **卡片纵横比** | padding-top: 48% | 自适应高度 |
| **边框圆角** | border-radius: 16px | 圆角卡片 |
| **阴影** | 0 18px 40px rgba(0,0,0,0.35) | 立体悬浮感 |
| **渐变遮罩** | linear-gradient(180deg, rgba(0,0,0,0.15), rgba(0,0,0,0.45)) | 文字可读性 |
| **标题字体** | 20px, font-weight: 800, letter-spacing: 0.5px | 醒目标题 |
| **描述字体** | 14px, opacity: 0.92 | 辅助说明 |
| **前后箭头** | color: #ffd700, drop-shadow | 金色高光 |
| **指示点激活** | background: #ffd700 | 金色高亮 |

**状态切换动画**
- 非激活卡片：transform: scale(0.92), opacity: 0
- 激活卡片：transform: scale(1), opacity: 1
- 过渡时长：0.6s cubic-bezier(0.34, 1.56, 0.64, 1)

**悬停增强效果（Boost）**
```css
.banner-card.boost {
  transform: scale(1.06);
  box-shadow: 0 24px 56px rgba(0,0,0,0.5);
}
```

**自动播放参数**
- 间隔：5000ms（5秒）
- 暂停规则：鼠标悬停时暂停
- 循环播放：loop: true

**响应式适配**
- 桌面(>768px): 标题20px，描述14px
- 平板(640-768px): 标题18px，描述13px
- 手机(≤640px): 标题16px，描述12px

---

#### **4. AI助手浮窗组件**

**视觉设计**
```
┌──────────────────────────┐
│ 💬 长征小助手        [✕] │  ← 头部(紫色渐变)
├──────────────────────────┤
│ 🤖 您好！我是长征小助手  │  ← 欢迎消息(灰底)
│    有什么可以帮您的？    │
│                          │
│ 😊 长征经历了多久？      │  ← 用户消息(蓝底)
│                          │
│ 🎓 长征历时约13个月...   │  ← AI回复(灰底)
│                          │
├──────────────────────────┤
│ [输入您的问题...]  [发送]│  ← 输入区(白底)
└──────────────────────────┘
```

**设计规范**

**浮动按钮（触发器）**
| 属性 | 参数值 | 说明 |
|-----|--------|-----|
| **位置** | fixed, bottom: 24px, right: 24px | 固定右下角 |
| **尺寸** | 56×56px（桌面），50×50px（手机） | 圆形按钮 |
| **背景** | linear-gradient(135deg, #667eea, #764ba2) | 紫色渐变 |
| **图标** | font-size: 24px, color: white | 💬对话图标 |
| **阴影** | 0 4px 12px rgba(0,0,0,0.15) | 轻微悬浮 |
| **悬停效果** | scale(1.08), box-shadow增强 | 0.3s过渡 |
| **层级** | z-index: 10000 | 最顶层显示 |

**对话窗口**
| 属性 | 参数值 | 说明 |
|-----|--------|-----|
| **位置** | fixed, bottom: 90px, right: 24px | 按钮上方 |
| **尺寸** | 380×600px（桌面），calc(100vw-48px)×70vh（手机） | 响应式尺寸 |
| **背景** | white | 纯白背景 |
| **圆角** | border-radius: 12px | 圆角窗口 |
| **阴影** | 0 10px 40px rgba(0,0,0,0.2) | 强悬浮感 |
| **边框** | 1px solid #e0e0e0 | 细边框 |
| **层级** | z-index: 9999 | 次顶层 |

**头部样式**
- 背景：linear-gradient(135deg, #667eea 0%, #764ba2 100%)
- 文字：16px, font-weight: 600, color: white
- 内边距：16px
- 关闭按钮：28px圆形，悬停显示背景rgba(255,255,255,0.1)

**消息样式**
| 消息类型 | 背景色 | 对齐方式 | 边角 |
|---------|-------|---------|-----|
| **用户消息** | #e3f2fd（浅蓝） | align-self: flex-end（右对齐） | border-bottom-right-radius: 4px |
| **AI消息** | #f5f5f5（浅灰） | align-self: flex-start（左对齐） | border-bottom-left-radius: 4px |
| **思考中** | 渐变灰色背景 | 左对齐 | thinking-pulse动画(1.5s) |

**输入区域**
- 输入框：border: 1px solid #ddd, border-radius: 20px, padding: 10px 16px
- 聚焦效果：border-color: #667eea
- 发送按钮：background: #667eea, border-radius: 20px, padding: 10px 20px
- 悬停效果：background: #5a6fd8

**消息动画**
```css
@keyframes messageAppear {
  from { opacity: 0; transform: translateY(10px); }
  to   { opacity: 1; transform: translateY(0); }
}
```

**思考动画**
```css
@keyframes thinking-pulse {
  0%   { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}
```

**滚动条样式**
- 宽度：6px
- 轨道：#f1f1f1
- 滑块：#c1c1c1，悬停#a8a8a8

---

#### **5. 主要按钮组件**

**"开始重走长征路"按钮**
| 属性 | 参数值 | 说明 |
|-----|--------|-----|
| **尺寸** | padding: 18px 40px | 大型主按钮 |
| **字体** | 1.3rem, font-weight: 900, letter-spacing: 1px | 醒目粗体 |
| **背景** | linear-gradient(to right, #c8102e, #ff4500) | 红色渐变 |
| **圆角** | border-radius: 50px | 胶囊形状 |
| **阴影** | 0 10px 25px rgba(200,16,46,0.5) | 强悬浮感 |
| **悬停** | translateY(-5px) scale(1.05), 阴影增强 | 0.4s过渡 |
| **激活** | translateY(-2px) scale(1.02) | 按下反馈 |
| **加载状态** | background变暗，箭头旋转动画(0.8s循环) | 视觉反馈 |

**"进入地图"按钮（导航选项）**
- 线性引导：background: linear-gradient(to right, #c8102e, #ff4500)（红色）
- 自由探索：background: linear-gradient(to right, #1e90ff, #4169e1)（蓝色）
- 尺寸：padding: 18px，font-size: 1.2rem
- 悬停：translateY(-3px)，阴影增强
- 加载状态：background变暗，图标旋转

**地图侧栏"查看详情"按钮**
| 属性 | 参数值 | 说明 |
|-----|--------|-----|
| **尺寸** | padding: 8px 16px, font-size: 13px | 小型按钮 |
| **背景** | linear-gradient(135deg, #fff, #fef9f0) | 白色渐变 |
| **边框** | 2px solid #d4a574 | 金色边框 |
| **文字** | color: #8b0000, font-weight: 600 | 深红色 |
| **阴影** | 0 2px 6px rgba(0,0,0,0.1) | 轻微阴影 |
| **悬停** | background: linear-gradient(135deg, #ff8c00, #ffb84d)，color: white | 橙色填充 |
| **悬停动画** | translateY(-2px) scale(1.05) | 0.3s缓动 |
| **禁用状态** | opacity: 0.5, cursor: not-allowed | 灰色不可点击 |

**脉冲动画（已解锁按钮）**
```css
@keyframes pulse-button {
  0%, 100% { box-shadow: 0 2px 6px rgba(0,0,0,0.1); }
  50%      { box-shadow: 0 4px 12px rgba(255,140,0,0.3); }
}
```

---

#### **6. 侧边导航组件**

**设计规范**
| 属性 | 参数值 | 说明 |
|-----|--------|-----|
| **位置** | fixed, left: 20px, top: 50%, transform: translateY(-50%) | 固定左侧居中 |
| **背景** | rgba(0,0,0,0.7), backdrop-filter: blur(10px) | 半透明毛玻璃 |
| **圆角** | border-radius: 15px | 圆角容器 |
| **边框** | 1px solid rgba(255,215,0,0.2) | 金色边框 |
| **阴影** | 0 5px 15px rgba(0,0,0,0.3) | 悬浮感 |
| **层级** | z-index: 100 | 高层级 |

**Logo图标**
- 图标：font-size: 2rem, color: #ffd700
- 阴影：drop-shadow(0 0 5px rgba(255,215,0,0.7))
- 动画：无（静态显示）

**导航项样式**
- 图标：font-size: 1.2rem, width: 25px
- 文字：margin-left: 10px, width: 0→80px（悬停展开）
- 过渡：all 0.3s ease
- 激活状态：background: rgba(200,16,46,0.3), color: #ffd700
- 激活指示器：左侧4px金色竖线

**指示器动画**
```css
.side-nav-indicator {
  width: 6px;
  background: linear-gradient(180deg, #ffd700, #ffb300);
  transition: top 0.35s cubic-bezier(0.22, 0.9, 0.26, 1);
}
```

**响应式隐藏**
- 桌面(>992px): 显示
- 平板/手机(≤992px): display: none（隐藏）

---

#### **7. 图标规范**

**Font Awesome 6.4.0 图标库**
| 功能 | 图标 | Unicode | 用途 |
|-----|------|---------|-----|
| **首页** | fa-home | \f015 | 侧边导航-首页 |
| **地图** | fa-compass | \f14e | 侧边导航-探索 |
| **数据** | fa-chart-bar | \f080 | 侧边导航-统计 |
| **AI助手** | fa-comments | \f086 | AI对话按钮 |
| **锁定** | fa-lock | \f023 | 未解锁节点 |
| **星星** | fa-star | \f005 | 加载动画、标题装饰 |
| **箭头** | fa-arrow-right | \f061 | 按钮指向 |
| **关闭** | fa-times | \f00d | 关闭弹窗 |

**自定义图标尺寸**
- 小图标：14px（按钮内图标）
- 中图标：24px（功能按钮）
- 大图标：80px（加载动画）

---

#### **8. 色彩系统规范**

**主色调**
- 中国红：#c8102e, #b22222, #ff6b6b
- 金色：#ffd700, #ffb300, #d4a574
- 橙色：#ff8c00, #ffa500, #ffb84d

**辅助色**
- 蓝色：#1e90ff, #4169e1（自由探索主题）
- 深色背景：#0a0a16, #1a1a2e, #16213e
- 灰色：#f5f5f5, #e8e8e8（内容区域）

**状态色**
- 成功：#2e7d32（绿色）
- 禁用：#999, rgba(0,0,0,0.5)
- 高亮：#ffd700（金色）

**渐变配方**
```css
/* 红色渐变（主按钮） */
linear-gradient(to right, #c8102e, #ff4500)

/* 金色渐变（装饰） */
linear-gradient(to right, #ffd700, #ffb300)

/* 蓝色渐变（自由探索） */
linear-gradient(to right, #1e90ff, #4169e1)

/* 背景渐变（深色） */
linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f0f1e 100%)
```

---

#### **9. 响应式控件适配总览**

| 屏幕尺寸 | 按钮padding | 字体大小 | 图标尺寸 | 圆角 |
|---------|-----------|---------|---------|-----|
| **桌面(>1200px)** | 18px 40px | 1.3rem | 24px | 50px |
| **平板(768-1200px)** | 15px 30px | 1.1rem | 20px | 40px |
| **手机(480-768px)** | 12px 20px | 0.95rem | 18px | 30px |
| **超小屏(<480px)** | 8px 16px | 0.85rem | 16px | 20px |

---

**设计一致性原则**
1. ✅ 所有交互元素均有悬停、激活、禁用三态
2. ✅ 过渡动画统一使用0.3s ease或cubic-bezier缓动
3. ✅ 阴影层次清晰：轻(0 2px 6px) → 中(0 8px 20px) → 重(0 15px 35px)
4. ✅ 圆角统一规范：小(8px) → 中(12px) → 大(20px) → 胶囊(50px)
5. ✅ 色彩对比度符合WCAG AA级标准（文字可读性≥4.5:1）

### 3.4 适配效果图

**移动端适配（≤600px）**
- Banner全宽显示
- 地图和侧栏堆叠（先地图，后详情）
- 字体适配，触摸友好的控件大小

**平板适配（600px-1024px）**
- 地图和侧栏左右布局
- 比例调整为 60:40

**桌面端适配（>1024px）**
- 完整的三栏布局：侧边导航 + 地图 + 详情
- 最优阅读体验

---

## 四、设计总结与反思

### 4.1 设计成果总结

✅ **项目架构与协作**
- 使用GitHub进行项目版本管理和团队协作
- 采用模块化前端开发结构，HTML/CSS/JS分离
- 每个事件节点使用独立HTML文件，方便团队分工

✅ **核心功能实现**
1. **沉浸式首页体验**
   - 视差滚动背景动画
   - Swiper 6张轮播Banner展示
   - 长征数据可视化展示
   - 侧边导航平滑滚动指示

2. **双模式学习系统**
   - 线性引导：8个节点依次解锁，适合首次用户
   - 自由探索：全景显示所有节点，适合有基础的用户
   - localStorage本地存储进度管理

3. **交互式地图探索**
   - SVG中国地图
   - 8个节点标记（根据解锁状态变色）
   - 红色渐变路线连线
   - 节点鼠标悬停放大效果

4. **8个历史节点详情页**
   - 沉浸式页面设计（深色背景+战争氛围）
   - 丰富的文本内容和关键事件说明
   - 完整的长征历史叙述（1934-1936）
   - 支持返回地图和进度解锁

5. **加载转场动画**
   - 进度条动画（0-100%）
   - 4条动态加载提示文字
   - 红色五星旋转加载器
   - 平滑的页面转换效果

6. **AI助手功能**
   - 右下角浮窗设计
   - 支持实时对话
   - 快速问题模板
   - 长征知识库集成

✅ **视觉设计质量**
- 统一的红色主题体现长征精神
- 现代化扁平设计与历史感的结合
- 清晰的视觉层级和信息架构
- 符合青少年审美规范

### 4.2 设计不足与改进方向

⚠️ **当前不足**

1. **多媒体资源有限**
   - 当前事件页面以文字为主
   - 缺少音频、视频等富媒体
   - **改进**：集成历史纪录片、口述历史音频、高清历史照片库

2. **搜索功能未实现**
   - 计划中的搜索功能尚未开发
   - **改进**：实现关键词搜索、历史人物搜索、地点搜索

3. **成就系统基础**
   - 缺少打卡、分享、笔记等用户反馈机制
   - **改进**：添加成就徽章、学习进度可视化、用户笔记功能

4. **小游戏功能缺失**
   - 原计划的"跳跃障碍+积分"游戏未实现
   - **改进**：开发长征主题的交互游戏增加趣味性

5. **云端同步能力**
   - 当前仅支持本地localStorage存储
   - **改进**：添加后端API支持云端进度同步

6. **无障碍访问**
   - 缺少屏幕阅读器支持和键盘导航
   - **改进**：补充ARIA标签、键盘快捷键支持

### 4.3 心得体会

**设计原则的验证**
- 红色主题+沉浸式设计确实能增强用户对历史的情感代入
- 渐进式信息递进（首页→地图→详情）有效保持用户注意力
- 本地存储方案虽简单，但充分满足教学场景需求

**技术与设计的平衡**
- 纯前端实现降低了部署成本，提升了项目可维护性
- 模块化代码结构让团队协作更高效
- 不依赖后端的设计让项目具有高可用性

**团队协作心得**
- GitHub协作流程规范化可以减少代码冲突
- 明确的功能模块分工提高开发效率
- 设计文档的完善让新成员快速上手

---

## 五、附录

### 5.1 参考资料

**长征历史资料**
- 《中共党史基本知识》（人民出版社）
- 中国共产党历史档案库
- 长征沿线各地纪念馆官方资料

**Web设计与开发规范**
- MDN Web Docs（HTML5/CSS3/JavaScript）
- Swiper.js官方文档 v10.3.1
- Font Awesome 6.4.0 图标库

**前端技术栈**
- HTML5 + CSS3 + Vanilla JavaScript
- SVG地图绘制
- LocalStorage API 进度管理

### 5.2 附件清单

| 文件类型 | 文件名 | 说明 |
|---------|------|-----|
| HTML | index.html | 首页（视差、轮播、导航） |
| HTML | map.html | 地图探索页面 |
| HTML | event.html | 事件学习通用模板 |
| HTML | event/start.html | 第1个节点：战略转移开始 |
| HTML | event/{其他}.html | 第2-8个节点详情页 |
| CSS | mainStyle.css | 全局样式（首页、地图）|
| CSS | mapStyle.css | 地图页面专用样式 |
| CSS | ai-assistant.css | AI助手样式 |
| JS | mainScript.js | 首页交互逻辑 |
| JS | mapScript.js | 地图交互逻辑 |
| JS | mapScript2.js | 地图脚本版本2 |
| JS | ai-assistant.js | AI助手功能 |
| JSON | longmarch-nodes.json | 8个节点数据配置 |
| IMG | 各类图片/SVG | Banner图、地图SVG、背景图 |

### 5.3 AI辅助使用说明及占比

| 设计阶段/任务 | 使用的AI工具 | AI辅助内容 | AI辅助占比 | 备注 |
|-------------|----------|----------|---------|------|
| 需求分析梳理 | ChatGPT 4.0 | 功能需求框架、目标受众分析 | 25% | 结合实际项目需求，人工优化调整 |
| 交互流程设计 | ChatGPT 4.0 | 用户流程图、交互规则建议 | 30% | 人工验证可行性，补充项目特色 |
| 代码实现辅助 | GitHub Copilot | Swiper配置、加载动画、事件监听器 | 35% | 人工审查代码质量，完善逻辑 |
| UI视觉设计 | Midjourney | Banner图生成、配色方案建议 | 20% | 人工选择、调整、优化视觉效果 |
| 文档编写辅助 | ChatGPT 4.0 | 设计说明框架、内容组织建议 | 15% | 人工补充项目细节，调整学术规范 |
| 合计 | | | 加权平均 25% | AI辅助为手段，核心设计决策由人工完成 |

**AI工具具体使用**
- 🤖 ChatGPT 4.0：流程梳理、文档编写、问题解答
- 🎨 Midjourney：历史照片风格生成、Banner图设计建议
- 💻 GitHub Copilot：JavaScript代码补全、最佳实践建议

### 5.4 其他说明

**项目文件结构**
```
web专周-重走万里长征路/
├── html/
│   ├── index.html          # 首页
│   ├── map.html            # 地图页
│   ├── event.html          # 事件学习通用模板
│   └── event/
│       ├── start.html      # 节点1：战略转移开始
│       ├── 4.html          # 节点2-7详情页
│       └── ...
├── css/
│   ├── mainStyle.css       # 全局样式
│   ├── mapStyle.css        # 地图样式
│   └── ai-assistant.css    # AI助手样式
├── js/
│   ├── mainScript.js       # 首页脚本
│   ├── mapScript.js        # 地图脚本
│   ├── mapScript2.js       # 地图脚本版本2
│   └── ai-assistant.js     # AI助手脚本
├── data/
│   └── longmarch-nodes.json # 节点数据配置
├── img/
│   ├── china.svg           # 中国地图SVG
│   └── (Banner图片等)      # 其他图片资源
└── 设计文档.md             # 本设计文档
```

**关键技术指标**
- 首页加载时间：< 2s（不含网络延迟）
- 地图页面交互响应：< 500ms
- LocalStorage存储量：< 1MB
- 浏览器兼容：Chrome 90+, Firefox 88+, Safari 14+, Edge 90+

**运行方式**
- 直接在浏览器打开 `html/index.html`
- 或使用本地服务器运行（推荐用于测试地图SVG等资源）
- 建议分辨率：1024×768 以上

**数据管理**
- 所有进度数据存储在浏览器 LocalStorage 中
- 键名为 `lm_unlocks_v1`，存储JSON格式
- 包含：当前模式、各节点解锁状态、最高解锁位置

**成员分工**

| 成员 | 职责 | 实现内容 |
|-----|------|--------|
| **王宇杰** | 主策划 + 核心功能 | 首页设计、地图交互、进度管理系统、整体流程 |
| **陈梓涵** | 深度学习页面 | 8个事件详情页HTML、沉浸式叙事、节点文案 |
| **李浩天** | 文案策划 + 资料研究 | 长征历史文案、参考资料收集、AI问答素材 |

**后续维护与扩展建议**

✨ **短期改进（1-2周）**
- 补充多媒体资源（历史纪录片、音频）
- 优化移动端响应
- 完善AI助手知识库

🚀 **中期目标（1-2个月）**
- 实现搜索功能
- 开发成就系统和用户反馈
- 添加简单互动小游戏

📱 **长期规划（3-6个月）**
- 开发原生移动应用（React Native / Flutter）
- 接入后端服务支持云端同步
- 支持多语言国际化
- 添加VR/AR长征体验模式

---

**文档版本记录**

| 版本 | 日期 | 作者 | 变更说明 |
|-----|------|------|--------|
| 1.0 | 2026-01-14 | 设计团队 | 初版设计文档，基于实际项目内容完整填写 |

---

**最后说明**

本设计文档是对"重走万里长征路"Web项目的完整设计记录。文档内容基于项目实际实现进行编写，力求准确反映设计目标、技术方案和实现成果。欢迎提出改进意见和建议！

