<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>长征地图 - 交互探索</title>
    <link rel="stylesheet" href="/css/mainStyle.css">
    <link rel="stylesheet" href="/css/mapStyle.css">
</head>
<body>
    <div class="map-page">
        <header class="map-header">
            <div>
                <h1>长征地图·节点探索</h1>
                <p style="margin:0; font-size:13px; opacity:0.85;">追溯长征路上的每一步足迹</p>
            </div>
            <div class="mode-indicator" id="modeIndicator"></div>
        </header>

        <main class="map-main">
            <div class="map-container">
                <div class="china-map" id="chinaMap">
                    <!-- 内嵌简化 SVG 地图（占位，可替换为更精细的 SVG） -->
                    <svg class="china-svg" viewBox="0 0 1000 700" preserveAspectRatio="xMidYMid meet" aria-label="中国地图占位">
                        <rect x="0" y="0" width="1000" height="700" fill="transparent"/>
                        <!-- 简化轮廓（装饰用） -->
                        <g fill="#f3efe8" stroke="#e6d9c8" stroke-width="1">
                            <path d="M60,520 C120,480 180,460 260,430 C340,400 420,360 520,340 C620,320 700,300 820,280 C880,270 920,230 960,200 L980,160 L940,120 L860,110 L800,130 L740,110 L680,120 L640,150 L600,170 L560,210 L520,240 L480,270 L440,300 L380,330 L320,360 L260,400 L200,450 L140,500 Z" />
                        </g>
                        <!-- 示例路线（装饰） -->
                        <path d="M250,420 C300,400 350,380 420,360 C480,345 530,335 600,320 C700,300 760,285 820,260" fill="none" stroke="#b22222" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" opacity="0.95"/>
                    </svg>
                    <svg class="route-layer" viewBox="0 0 1000 700" preserveAspectRatio="xMidYMid meet" aria-hidden="true"></svg>
                    <!-- 标记由脚本动态生成 -->
                </div>
            </div>

            <aside class="map-sidebar" id="mapSidebar">
                <h3>节点列表</h3>
                <ul id="nodeList"></ul>
            </aside>
        </main>

        <footer class="map-footer">
            <button id="resetProgress">重置进度</button>
            <a href="/html/index.html">返回首页</a>
        </footer>
    </div>

    <script>
        // 动态加载脚本并加时间戳，确保每次进入地图页面加载最新版脚本
        (function(){
            const s = document.createElement('script');
            s.src = '../js/mapScript2.js?ts=' + Date.now();
            s.async = false;
            document.body.appendChild(s);
        })();
    </script>
</body>
</html>
    